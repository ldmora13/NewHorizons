---
import AboutSection from "@src/components/AboutSection.astro";
import CtaSection from "@src/components/CtaSection.astro";
import HeroSection from "@src/components/HeroSection.astro";
import CountriesSection from "@src/components/CountriesSection.astro";
import WhySection from "@src/components/WhySection.astro";
import MainLayout from "@src/layouts/MainLayout.astro";
import Map from "@src/components/Map.astro";
import Sponsors from "@src/components/Sponsors.astro";
---

<MainLayout title="New Horizons Immigration Law | Expertos en Inmigración a Francia" description="En New Horizons, te ayudamos a iniciar tu nueva vida en Francia. Especialistas en VLS-TS, Passeport Talent e inversión.">
  <HeroSection
      backgroundImage="/img/countries/france/0.jpg"
      badgeText="Guía experta para tu transición a Francia."
      title="Tu Nueva Vida en Francia Comienza Aquí"
      description="Asesoría legal especializada en VLS-TS y Pasaportes de Talento. Manejamos las complejidades de la administración francesa para que tú te enfoques en tus nuevos horizontes."
      avatars={[
        { src: "/img/male1.jpg", alt: "Traveler 1" },
        { src: "/img/male2.jpg", alt: "Traveler 2" },
        { src: "/img/female1.jpg", alt: "Traveler 3" },
        { src: "/img/female2.jpg", alt: "Traveler 4" },
      ]}
      reviewText="Más de 16,000 Integraciones Exitosas"
      rating={5}
      badgeI18nKey="hero.badge"
      titleI18nKey="hero.title"
      descriptionI18nKey="hero.description"
      reviewTextI18nKey="hero.reviewText"
      ctas={[
        {
          label: "Nuestras Visas",
          href: "/programs",
          variant: "white",
          i18nKey: "hero.cta.programs"
        },
        {
          label: "Nuestra Experiencia",
          href: "/about",
          variant: "outline",
          i18nKey: "hero.cta.aboutUs"
        },
      ]}
  />
  <Map />
  <WhySection title="¿Por qué confiar en nuestra experiencia en Francia?" />
  <CountriesSection />
  <Sponsors />
  <AboutSection />
  <CtaSection />
</MainLayout>
<script>
  /**
   * Smooth Scroll
   */
  (function initSmoothScroll(offset: number = 80): void {
    document
      .querySelectorAll<HTMLAnchorElement>('a[href^="#"]')
      .forEach((anchor) => {
        anchor.addEventListener("click", (e: MouseEvent) => {
          const href = anchor.getAttribute("href");
          if (!href || href === "#" || href.length < 2) return;

          const target = document.querySelector<HTMLElement>(href);
          if (!target) return;

          e.preventDefault();

          const top =
            target.getBoundingClientRect().top +
            window.pageYOffset -
            offset;

          window.scrollTo({
            top,
            behavior: "smooth",
          });

          history.pushState(null, "", href);
        });
      });
  })(80);
</script>