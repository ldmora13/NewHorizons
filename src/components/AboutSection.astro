---
import { Icon } from 'astro-icon/components';
import Button from './Button.astro';

/* =========================
   Types
========================= */
export interface AboutFeature {
  icon: string; 
  label: string;
}

export interface AboutStat {
  value: string;
  label: string;
}

export interface AboutSectionProps {
  id?: string;
  title: string;
  description: string[];
  features: AboutFeature[];
  stats: AboutStat[];
}

/* =========================
   Default / Sample Data
========================= */
const {
  id = "programs",
  title = "Programs We Offer",
  description = [" We work with permanent residence projects and visas based on professional career, merits or investment. More than 16,000 people accompanied with 91% success rate."],
  features = [
    { icon: "bi:globe2", label: "Global Destinations" },
    { icon: "bi:award", label: "Certificate Specialists" },
  ],
  stats = [
    { value: "EB-1", label: "For people with outstanding career in sciences, arts, education, business or sports. Permanent residence based on exceptional merits and international recognition. No job offer required and has priority processing available."},
    { value: "EB-2 NIW", label: "For professionals whose work generates national benefit or significant impact. Job offer exemption required, ideal for researchers, academics and outstanding professionals. Requires demonstrating that the applicant provides substantial benefit to the United States."},
    { value: "EB-5", label: "Investment programs with permanent residence possibility for investors and their families. Different investment levels available according to project and location. Requires creating at least 10 jobs in the United States through the investment made." },
  ],
} = Astro.props as AboutSectionProps;
---

<!-- About Section -->
<section
  id={id}
  class="relative py-16 md:py-20 bg-[#313e52] overflow-hidden">
  
  <div class="max-w-6xl mx-auto px-4 relative">
    <div class="items-center">

      <!-- Text -->
      <div>
        <h2 class="text-3xl md:text-4xl font-semibold text-white">
          {title}
        </h2>

        {description.map((text) => (
          <p class="mt-4 text-white/70 leading-relaxed">
            {text}
          </p>
        ))}

        <div class="mt-6 flex flex-col md:flex-row md:items-center gap-4 text-white/80">
          {features.map((item) => (
            <div class="flex items-center gap-2">
              <Icon name={item.icon} class="w-5 h-5" />
              <span>{item.label}</span>
            </div>
          ))}
        </div>
      </div>

      <!-- Stats -->
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mt-12">
        {stats.map((stat) => (
          <div class="rounded-2xl bg-white/5 border border-white/10 p-6 backdrop-blur hover:scale-105 transition-transform duration-300 pb-20">
            <div class="text-3xl font-semibold text-white">
              {stat.value}
            </div>
            <div class="mt-1 text-white/70">
              {stat.label}
            </div>
             <Button label="Learn More" href="/programs" variant="white" className="fixed bottom-4 right-4"></Button>
          </div>
        ))}
      </div>
    </div>
  </div>
</section>