---
import { Icon } from "astro-icon/components";

/* =========================
   Types
========================= */
export interface ContactSectionProps {
  id?: string;
  title?: string;
  description?: string;
  i18nTitle?: string;
  i18nDescription?: string;

  address?: string;
  email?: string;
  phone?: string;
}

/* =========================
   Props & Defaults
========================= */
const {
  id = "contact",
  title = "Speak with an Immigration Expert",
  description = "Schedule a 30-minute consultation and find out in one call whether you qualify, which program fits your profile, and what the realistic timeline is. No commitments.",

  address = "Miami Â· Madrid Â· Paris",
  email = "info@newhorizonsimmigrationlaw.org",
  phone = "+1 (909) 547-3238",
} = Astro.props as ContactSectionProps;

const trustSignals = [
  { icon: "bi:shield-check", i18nKey: "pages.contact.trust1", label: "16,000+ Successful Cases" },
  { icon: "bi:clock-history",  i18nKey: "pages.contact.trust2", label: "Response within 24h" },
  { icon: "bi:translate",     i18nKey: "pages.contact.trust3", label: "Attention in ES Â· EN Â· FR" },
  { icon: "bi:percent",       i18nKey: "pages.contact.trust4", label: "91% Approval Rate" },
];
---

<!-- Contact Section -->
<section id={id} class="relative py-16 md:py-20 overflow-hidden">
  <div class="max-w-6xl mx-auto px-4">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">

      <!-- =========================
        LEFT: CONTACT INFO
      ========================= -->
      <div>
        <h2 class="text-3xl md:text-4xl font-semibold text-white leading-tight" data-i18n={Astro.props.i18nTitle}>
          {title}
        </h2>

        {description && (
          <p class="mt-4 text-white/70 leading-relaxed text-lg" data-i18n={Astro.props.i18nDescription}>
            {description}
          </p>
        )}

        <!-- Trust Signals Grid -->
        <div class="mt-8 grid grid-cols-2 gap-4">
          {trustSignals.map((signal) => (
            <div class="flex items-center gap-3 rounded-xl bg-white/5 border border-white/10 px-4 py-3">
              <Icon name={signal.icon} class="w-5 h-5 text-blue-400 shrink-0" />
              <span class="text-sm text-white/80" data-i18n={signal.i18nKey}>{signal.label}</span>
            </div>
          ))}
        </div>

        <!-- Contact Details -->
        <div class="mt-8 space-y-4 text-white/80">
          <div class="flex items-center gap-4">
            <div class="size-10 flex items-center justify-center rounded-xl bg-white/10 shrink-0">
              <Icon name="bi:geo-alt" />
            </div>
            <div>
              <div class="font-semibold text-white text-sm" data-i18n="pages.contact.address">Oficinas</div>
              <div class="text-sm text-white/70">{address}</div>
            </div>
          </div>

          <div class="flex items-center gap-4">
            <div class="size-10 flex items-center justify-center rounded-xl bg-white/10 shrink-0">
              <Icon name="bi:envelope" />
            </div>
            <div>
              <div class="font-semibold text-white text-sm" data-i18n="pages.contact.email">Email</div>
              <a href={`mailto:${email}`} class="text-sm text-white/70 hover:text-white transition">
                {email}
              </a>
            </div>
          </div>

          <div class="flex items-center gap-4">
            <div class="size-10 flex items-center justify-center rounded-xl bg-white/10 shrink-0">
              <Icon name="bi:telephone" />
            </div>
            <div>
              <div class="font-semibold text-white text-sm" data-i18n="pages.contact.phone">TelÃ©fono</div>
              <a href={`tel:${phone}`} class="text-sm text-white/70 hover:text-white transition">
                {phone}
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- =========================
        RIGHT: CONTACT FORM
      ========================= -->
      <form
        method="post"
        class="rounded-3xl bg-white/5 border border-white/10 backdrop-blur p-8 space-y-5"
      >
        <div>
          <h3 class="text-2xl font-semibold text-white" data-i18n="pages.contact.sendMessage">
            Solicita tu Consulta Gratuita
          </h3>
          <p class="mt-1 text-sm text-white/50" data-i18n="pages.contact.formSubtitle">
            Te respondemos en menos de 24 horas Â· Sin compromiso
          </p>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div>
            <label class="block text-xs font-medium text-white/60 mb-1.5 uppercase tracking-wide" data-i18n="pages.contact.fullName">Nombre</label>
            <input
              type="text"
              required
              placeholder="Tu nombre completo"
              class="w-full rounded-xl bg-black/30 border border-white/20 px-4 py-3 text-white placeholder:text-white/30 focus:outline-none focus:border-blue-500/60 transition"
            />
          </div>

          <div>
            <label class="block text-xs font-medium text-white/60 mb-1.5 uppercase tracking-wide" data-i18n="pages.contact.phoneLabel">TelÃ©fono</label>
            <input
              type="tel"
              placeholder="+1 (000) 000-0000"
              class="w-full rounded-xl bg-black/30 border border-white/20 px-4 py-3 text-white placeholder:text-white/30 focus:outline-none focus:border-blue-500/60 transition"
            />
          </div>
        </div>

        <div>
          <label class="block text-xs font-medium text-white/60 mb-1.5 uppercase tracking-wide" data-i18n="pages.contact.emailAddress">Correo ElectrÃ³nico</label>
          <input
            type="email"
            required
            placeholder="tu@correo.com"
            class="w-full rounded-xl bg-black/30 border border-white/20 px-4 py-3 text-white placeholder:text-white/30 focus:outline-none focus:border-blue-500/60 transition"
          />
        </div>

        <div>
          <label class="block text-xs font-medium text-white/60 mb-1.5 uppercase tracking-wide" data-i18n="pages.contact.destinationLabel">Destino de InterÃ©s</label>
          <select
            class="w-full rounded-xl bg-black/30 border border-white/20 px-4 py-3 text-white/70 focus:outline-none focus:border-blue-500/60 transition appearance-none"
          >
            <option value="" disabled selected data-i18n="pages.contact.destinationPlaceholder">Selecciona tu destino</option>
            <option value="france">ğŸ‡«ğŸ‡· Francia</option>
            <option value="spain">ğŸ‡ªğŸ‡¸ EspaÃ±a</option>
            <option value="portugal">ğŸ‡µğŸ‡¹ Portugal</option>
            <option value="uae">ğŸ‡¦ğŸ‡ª Emiratos Ãrabes Unidos</option>
            <option value="other" data-i18n="pages.contact.destinationOther">Otro / No estoy seguro</option>
          </select>
        </div>

        <div>
          <label class="block text-xs font-medium text-white/60 mb-1.5 uppercase tracking-wide" data-i18n="pages.contact.message">Tu SituaciÃ³n</label>
          <textarea
            rows="4"
            required
            placeholder="CuÃ©ntanos brevemente tu perfil y objetivo (ej: tengo oferta de trabajo en ParÃ­s, busco residencia como inversor en Francia, etc.)"
            class="w-full rounded-xl bg-black/30 border border-white/20 px-4 py-3 text-white placeholder:text-white/30 focus:outline-none focus:border-blue-500/60 transition resize-none"
          ></textarea>
        </div>

        <button
          type="submit"
          class="w-full rounded-xl bg-white px-6 py-3.5 font-semibold text-black hover:bg-blue-50 transition text-base"
          data-i18n="pages.contact.sendButton"
        >
          Solicitar Consulta Gratuita â†’
        </button>

        <p class="text-center text-xs text-white/30" data-i18n="pages.contact.privacyNote">
          Tu informaciÃ³n estÃ¡ protegida. No compartimos tus datos con terceros.
        </p>
      </form>

    </div>
  </div>
</section>