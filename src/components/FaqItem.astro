---
import { Icon } from "astro-icon/components";

/* =========================
   Types
========================= */
export interface FaqItemProps {
  question?: string;
  answer?: string;
  questionKey?: string;
  answerKey?: string;
  open?: boolean;
}

const { question, answer, questionKey, answerKey, open = false } = Astro.props as FaqItemProps;
---

<div
  x-data={`{ open: ${open} }`}
  class="rounded-2xl border border-white/10 bg-white/5 backdrop-blur overflow-hidden transition-all duration-300 hover:bg-white/10"
>
  <button
    @click="open = !open"
    class="w-full flex items-center justify-between gap-4 p-5 text-left"
  >
    <span class="text-white font-medium text-lg" data-i18n={questionKey}>
      {question}
    </span>

    <span class="text-blue-400 transition-transform duration-300" :class="open ? 'rotate-180' : 'rotate-0'">
      <Icon name="bi:chevron-down" class="w-5 h-5" />
    </span>
  </button>

  <div
    x-show="open"
    x-collapse
    class="px-5 pb-6 text-white/70 leading-relaxed text-base border-t border-white/5 pt-4"
    data-i18n={answerKey}
  >
    {answer}
  </div>
</div>
