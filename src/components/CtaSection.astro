---
import Button from "@src/components/Button.astro";

/* =========================
   Types
========================= */
export interface CtaButton {
  label: string;
  href?: string;
  variant?: "primary" | "outline" | "success" | "white";
  className?: string;
}

export interface CtaSectionProps {
  title: string;
  description: string;
  backgroundImage: string;
  buttons: CtaButton[];
}

/* =========================
   Default / Sample Data
========================= */
const {
  title = "Contact Us Now!",
  description = "We'll help you navigate the complexities of the immigration process and ensure a smooth and successful outcome.",
  backgroundImage = "/img/countries/france/2.webp",
  buttons = [
    {
      label: "Get Start Now!",
      href: "checkout",
      variant: "white",
    },
    {
      label: "Contact Us",
      href: "contact",
      variant: "outline",
    },
  ],
} = Astro.props as CtaSectionProps;
---

<!-- CTA Section -->
<section
  class="relative py-16 md:py-20 overflow-hidden"
  style={`background-image: url('${backgroundImage}');
         background-size: cover;
         background-position: center;
         background-attachment: fixed;`}
>
  
  <div class="max-w-6xl mx-auto px-4 relative">
    <div class="rounded-3xl border border-white/10 bg-black/30 backdrop-blur-md p-10 text-center">
      
      <h2 class="text-3xl md:text-4xl font-semibold text-white" data-i18n="cta.title">
        {title}
      </h2>

      <p class="mt-4 text-white/80 max-w-2xl mx-auto" data-i18n="cta.description">
        {description}
      </p>

      <div class="mt-8 flex flex-col sm:flex-row items-center justify-center gap-4">
        {buttons.map((btn, index) => {
          const buttonKeys = ['cta.getStartNow', 'cta.contactUs'];
          return (
            <Button
              href={btn.href}
              label={btn.label}
              variant={btn.variant}
              className="max-sm:w-full"
              i18nKey={buttonKeys[index]}
            />
          );
        })}
      </div>

    </div>
  </div>
</section>